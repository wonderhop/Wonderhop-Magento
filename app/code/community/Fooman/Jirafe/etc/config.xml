<?xml version="1.0"?>
<!--
/**
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/osl-3.0.php
 *
 * @package     Fooman_Jirafe
 * @copyright   Copyright (c) 2010 Jirafe Inc (http://www.jirafe.com)
 * @copyright   Copyright (c) 2010 Fooman Limited (http://www.fooman.co.nz)
 * @license     http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 */
 -->

<config>
    <modules>
        <Fooman_Jirafe>
            <version>1.1.1</version>
        </Fooman_Jirafe>
    </modules>

    <global>
        <ignore_user_agents>
            <!--
            SELECT count(*) as count, `http_user_agent` FROM `log_visitor_info` WHERE `visitor_id`>'335522' GROUP BY `http_user_agent` ORDER BY count DESC
            -->
            <aschroder1>AppEngine-Google; (+http://code.google.com/appengine; appid: aschroder-monitor)</aschroder1>
            <bing1>Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)</bing1>
            <pingdom1>Pingdom.com_bot_version_1.4_(http://www.pingdom.com/)</pingdom1>
            <hosttracker1>Mozilla/4.0 (compatible; HostTracker.com/1.0;+http://host-tracker.com/)</hosttracker1>
            <yahoo1>Mozilla/5.0 (compatible; Yahoo! Slurp; http://help.yahoo.com/help/us/ysearch/slurp)</yahoo1>
            <baidu1>Baiduspider+(+http://www.baidu.com/search/spider.htm)</baidu1>
            <baidu2>Baiduspider+(+http://www.baidu.jp/spider/)</baidu2>
            <yandex1>Mozilla/5.0 (compatible; YandexBot/3.0; +http://yandex.com/bots)</yandex1>
            <socialmedia1>Mozilla/5.1 (compatible; SocialMedia Bot/1.5;)</socialmedia1>
            <exabot1>Mozilla/5.0 (compatible; Exabot/3.0; +http://www.exabot.com/go/robot)</exabot1>
            <soso1>Sosospider+(+http://help.soso.com/webspider.htm)</soso1>
            <tweetmeme1>Mozilla/5.0 (compatible; MSIE 6.0b; Windows NT 5.0) Gecko/2009011913 Firefox/3.0.6 TweetmemeBot</tweetmeme1>
            <comodo1>Comodo-Certificates-Spider</comodo1>
            <comodo2>Comodo SSL Checker</comodo2>
            <speedy1>Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) Speedy Spider (http://www.entireweb.com/about/search_tech/speedy_spider/)</speedy1>
            <twitter1>Twitterbot/0.1</twitter1>
            <sitespeed1>SiteSpeedBot</sitespeed1>
            <zooka1>Zookabot/2.1;++http://zookabot.com</zooka1>
            <njuice1>Mozilla/5.0 (compatible; Windows NT 6.0) Gecko/20090624 Firefox/3.5 NjuiceBot</njuice1>
            <friendfeed1>Mozilla/5.0 (compatible; FriendFeedBot/0.1; +Http://friendfeed.com/about/bot)</friendfeed1>
            <huawei1>Huaweisymantecspider (compatible; MSIE 8.0; DSE-support@huaweisymantec.com)</huawei1>
            <huawei2>HuaweiSymantecSpider/1.0+DSE-support@huaweisymantec.com+(compatible; MSIE 7.0; Windows NT 5.1; Trident/4.0; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR ; http://www.huaweisymantec.com/en/IRL/spider)</huawei2>
            <docomo1>DoCoMo/2.0 P900i(c100;TB;W24H11)(compatible; ichiro/mobile goo;+http://help.goo.ne.jp/door/crawler.html)</docomo1>
            <msn1>msnbot/2.0b (+http://search.msn.com/msnbot.htm)._</msn1>
            <worio1>Mozilla/5.0 (compatible; woriobot support [at] worio [dot] com +http://worio.com)</worio1>
            <google4>Googlebot-Image/1.0</google4>
            <archiver1>ia_archiver-web.archive.org</archiver1>
            <archiver2>ia_archiver (+http://www.alexa.com/site/help/webmasters; crawler@alexa.com)</archiver2>
            <passwordthumbs1>1PasswordThumbs/1 CFNetwork/454.11.5 Darwin/10.5.0 (i386) (MacBookPro3%2C1)</passwordthumbs1>
            <twingly1>Twingly Recon</twingly1>
            <tlsprober1>TLSProber/0.1</tlsprober1>
            <postrank1>PostRank/2.0 (postrank.com)</postrank1>
            <jskit1>JS-Kit URL Resolver, http://js-kit.com/</jskit1>
            <dotnetcom1>Mozilla/5.0 (compatible; DotBot/1.1; http://www.dotnetdotcom.org/, crawler@dotnetdotcom.org)</dotnetcom1>
            <google4>Mozilla/5.0 (compatible; Googlebot/2.1;  http://www.google.com/bot.html)</google4>
            <gigabot1>Gigabot/3.0 (http://www.gigablast.com/spider.html)</gigabot1>
            <search171>Mozilla/5.0 (compatible; Search17Bot/1.1; http://www.search17.com/bot.php)</search171>
            <mj121>Mozilla/5.0 (compatible; MJ12bot/v1.3.3; http://www.majestic12.co.uk/bot.php?+)</mj121>
            <archiveorg1>Mozilla/5.0 (compatible; archive.org_bot +http://www.archive.org/details/archive.org_bot)</archiveorg1>
            <wire1>WIRE/1.0 (Linux;i686;Bot,Robot,Spider,Crawler)</wire1>
            <discobot1>Mozilla/5.0 (compatible; discobot/1.1; +http://discoveryengine.com/discobot.html</discobot1>
            <legs801>Mozilla/5.0 (compatible; 008/0.83; http://www.80legs.com/webcrawler.html;) Gecko/2008032620</legs801>
            <legs802>Mozilla/5.0 (compatible; 008/0.83; http://www.80legs.com/webcrawler.html) Gecko/2008032620</legs802>
            <kiwistatus1>KiwiStatus/0.3 (NZS.com New Zealand Search; http://www.nzs.com/kiwi-status/)</kiwistatus1>
            <dps>PXHOST</dps>
            <pycurl1>PycURL/7.18.2</pycurl1>
            <voyager1>Voyager/1.0</voyager1>
        </ignore_user_agents>

        <models>
            <foomanjirafe>
                <class>Fooman_Jirafe_Model</class>
                <resourceModel>foomanjirafe_mysql4</resourceModel>
            </foomanjirafe>
            <foomanjirafe_mysql4>
                <class>Fooman_Jirafe_Model_Mysql4</class>
                <resourceModel>foomanjirafe_mysql4</resourceModel>
                <entities>
                    <report><table>foomanjirafe_report</table></report>
                    <event><table>foomanjirafe_event</table></event>
                </entities>
            </foomanjirafe_mysql4>
            <log>
                <rewrite>
                    <visitor>Fooman_Jirafe_Model_Log_Visitor</visitor>
                </rewrite>
            </log>
            <adminhtml>
                <rewrite>
                    <system_config_backend_currency_base>Fooman_Jirafe_Model_Adminhtml_System_Config_Backend_Currency_Base</system_config_backend_currency_base>
                </rewrite>
            </adminhtml>
        </models>
        <resources>
            <foomanjirafe_setup>
                <setup>
                    <module>Fooman_Jirafe</module>
                    <class>Fooman_Jirafe_Model_Mysql4_Setup</class>
                </setup>
                <connection>
                    <use>core_setup</use>
                </connection>
            </foomanjirafe_setup>
            <foomanjirafe_write>
                <connection>
                    <use>core_write</use>
                </connection>
            </foomanjirafe_write>
            <foomanjirafe_read>
                <connection>
                    <use>core_read</use>
                </connection>
            </foomanjirafe_read>
        </resources>
        <helpers>
            <foomanjirafe>
                <class>Fooman_Jirafe_Helper</class>
            </foomanjirafe>
        </helpers>
        <blocks>
            <foomanjirafe>
                <class>Fooman_Jirafe_Block</class>
            </foomanjirafe>
            <adminhtml>
                <rewrite>
                    <dashboard>Fooman_Jirafe_Block_Adminhtml_Dashboard</dashboard>
                    <system_account_edit_form>Fooman_Jirafe_Block_Adminhtml_System_Account_Edit_Form</system_account_edit_form>
                </rewrite>
            </adminhtml>
        </blocks>
        <template>
            <email>
               <foomanjirafe_report_template translate="label" module="foomanjirafe">
                   <label>New Jirafe Report</label>
                   <file>jirafe/report.html</file>
                   <type>html</type>
               </foomanjirafe_report_template>
           </email>
        </template>
        <events>
            <sales_order_save_after>
                <observers>
                    <foomanjirafe_salesOrderSaveAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_OrderObserver</class>
                        <method>salesOrderSaveAfter</method>
                    </foomanjirafe_salesOrderSaveAfter>
                </observers>
            </sales_order_save_after>
            <sales_order_save_commit_after>
                <observers>
                    <foomanjirafe_salesOrderSaveCommitAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_OrderObserver</class>
                        <method>salesOrderSaveCommitAfter</method>
                    </foomanjirafe_salesOrderSaveCommitAfter>
                </observers>
            </sales_order_save_commit_after>
            <sales_order_creditmemo_save_before>
                <observers>
                    <foomanjirafe_salesOrderCreditmemoSaveBefore>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_OrderObserver</class>
                        <method>salesOrderCreditmemoSaveBefore</method>
                    </foomanjirafe_salesOrderCreditmemoSaveBefore>
                </observers>
            </sales_order_creditmemo_save_before>
            <sales_order_creditmemo_save_after>
                <observers>
                    <foomanjirafe_salesOrderCreditmemoSaveAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_OrderObserver</class>
                        <method>salesOrderCreditmemoSaveAfter</method>
                    </foomanjirafe_salesOrderCreditmemoSaveAfter>
                </observers>
            </sales_order_creditmemo_save_after>
            <sales_order_creditmemo_save_commit_after>
                <observers>
                    <foomanjirafe_salesOrderCreditmemoSaveCommitAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_OrderObserver</class>
                        <method>salesOrderCreditmemoSaveCommitAfter</method>
                    </foomanjirafe_salesOrderCreditmemoSaveCommitAfter>
                </observers>
            </sales_order_creditmemo_save_commit_after>
        </events>
    </global>
    <default>
        <trans_email>
            <ident_jirafe>
                    <name>Jirafe Analytics</name>
                    <email>reports@jirafe.com</email>
            </ident_jirafe>
        </trans_email>
        <foomanjirafe>
            <settings>
                <last_status>0</last_status>
                <last_status_message/>
                <app_id/>
                <app_settings_hash/>
                <app_token/>
                <site_id/>
                <checkoutGoalId/>
                <sent_initial_email>0</sent_initial_email>
                <isActive>1</isActive>
                <reportType>simple</reportType>
                <emails/>
                <isEmailActive/>
                <is_debug>0</is_debug>
                <also_send_emails_to/>
                <installtime/>
            </settings>
            <report_email_template>foomanjirafe_report_template</report_email_template>
            <report_email_identity>jirafe</report_email_identity>
        </foomanjirafe>
    </default>
    <frontend>
        <layout>
            <updates>
                <foomanjirafe>
                    <file>foomanjirafe.xml</file>
                </foomanjirafe>
            </updates>
        </layout>
        <events>
            <checkout_cart_product_add_after>
                <observers>
                    <foomanjirafe_checkoutCartProductAddAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>checkoutCartProductAddAfter</method>
                    </foomanjirafe_checkoutCartProductAddAfter>
                </observers>
            </checkout_cart_product_add_after>
            <checkout_cart_update_items_after>
                <observers>
                    <foomanjirafe_checkoutCartUpdateItemsAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>checkoutCartUpdateItemsAfter</method>
                    </foomanjirafe_checkoutCartUpdateItemsAfter>
                </observers>
            </checkout_cart_update_items_after>
            <checkout_cart_product_update_after>
                <observers>
                    <foomanjirafe_checkoutCartProductUpdateAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>checkoutCartProductUpdateAfter</method>
                    </foomanjirafe_checkoutCartProductUpdateAfter>
                </observers>
            </checkout_cart_product_update_after>
            <sales_quote_remove_item>
                <observers>
                    <foomanjirafe_salesQuoteRemoveItem>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>salesQuoteRemoveItem</method>
                    </foomanjirafe_salesQuoteRemoveItem>
                </observers>
            </sales_quote_remove_item>
            <sales_quote_collect_totals_before>
                <observers>
                    <foomanjirafe_salesQuoteCollectTotalsBefore>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>salesQuoteCollectTotalsBefore</method>
                    </foomanjirafe_salesQuoteCollectTotalsBefore>
                </observers>
            </sales_quote_collect_totals_before>
            <sales_quote_collect_totals_after>
                <observers>
                    <foomanjirafe_salesQuoteCollectTotalsAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>salesQuoteCollectTotalsAfter</method>
                    </foomanjirafe_salesQuoteCollectTotalsAfter>
                </observers>
            </sales_quote_collect_totals_after>
            <sales_convert_quote_to_order>
                <observers>
                    <foomanjirafe_salesConvertQuoteToOrder>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>salesConvertQuoteToOrder</method>
                    </foomanjirafe_salesConvertQuoteToOrder>
                </observers>
            </sales_convert_quote_to_order>
        </events>
        <routers>
            <foomanjirafe>
                <use>standard</use>
                <args>
                    <module>Fooman_Jirafe</module>
                    <frontName>foomanjirafe</frontName>
                </args>
            </foomanjirafe>
        </routers>
    </frontend>
    <admin>
        <routers>
            <adminhtml>
                <args>
                    <modules>
                        <foomanjirafe before="Mage_Adminhtml">Fooman_Jirafe_Adminhtml</foomanjirafe>
                    </modules>
                </args>
            </adminhtml>
        </routers>
    </admin>
    <adminhtml>
        <acl>
            <resources>
                <admin>
                    <children>
                        <system>
                            <children>
                                <config>
                                    <children>
                                        <foomanjirafe translate="title" module="foomanjirafe">
                                            <title>Fooman Jirafe Section</title>
                                        </foomanjirafe>
                                    </children>
                                </config>
                            </children>
                        </system>
                    </children>
                </admin>
            </resources>
        </acl>
        <events>
            <model_save_after>
                <observers>
                    <foomanjirafe_configSaveAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>configSaveAfter</method>
                    </foomanjirafe_configSaveAfter>
                </observers>
            </model_save_after>
            <!--<core_config_data_save_after>
                <observers>
                    <foomanjirafe_configSaveAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>configSaveAfter</method>
                    </foomanjirafe_configSaveAfter>
                </observers>
            </core_config_data_save_after>-->
            <website_save_before>
                <observers>
                    <foomanjirafe_websiteSaveBefore>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>websiteSaveBefore</method>
                    </foomanjirafe_websiteSaveBefore>
                </observers>
            </website_save_before>
            <website_save_after>
                <observers>
                    <foomanjirafe_websiteSaveAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>websiteSaveAfter</method>
                    </foomanjirafe_websiteSaveAfter>
                </observers>
            </website_save_after>
            <website_save_commit_after>
                <observers>
                    <foomanjirafe_websiteSaveCommitAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>websiteSaveCommitAfter</method>
                    </foomanjirafe_websiteSaveCommitAfter>
                </observers>
            </website_save_commit_after>
            <store_group_save_before>
                <observers>
                    <foomanjirafe_storeGroupSaveBefore>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>storeGroupSaveBefore</method>
                    </foomanjirafe_storeGroupSaveBefore>
                </observers>
            </store_group_save_before>
            <store_group_save_after>
                <observers>
                    <foomanjirafe_storeGroupSaveAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>storeGroupSaveAfter</method>
                    </foomanjirafe_storeGroupSaveAfter>
                </observers>
            </store_group_save_after>            
            <store_group_save_commit_after>
                <observers>
                    <foomanjirafe_storeGroupSaveCommitAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>storeGroupSaveCommitAfter</method>
                    </foomanjirafe_storeGroupSaveCommitAfter>
                </observers>
            </store_group_save_commit_after>
            <store_group_delete_after>
                <observers>
                    <foomanjirafe_storeDeleteAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>storeGroupDeleteAfter</method>
                    </foomanjirafe_storeDeleteAfter>
                </observers>
            </store_group_delete_after>
            <store_group_delete_commit_after>
                <observers>
                    <foomanjirafe_storeDeleteCommitAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>storeGroupDeleteCommitAfter</method>
                    </foomanjirafe_storeDeleteCommitAfter>
                </observers>
            </store_group_delete_commit_after>            
            <store_save_before>
                <observers>
                    <foomanjirafe_storeSaveBefore>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>storeSaveBefore</method>
                    </foomanjirafe_storeSaveBefore>
                </observers>
            </store_save_before>
            <store_save_after>
                <observers>
                    <foomanjirafe_storeSaveAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>storeSaveAfter</method>
                    </foomanjirafe_storeSaveAfter>
                </observers>
            </store_save_after>
            <store_save_commit_after>
                <observers>
                    <foomanjirafe_storeSaveCommitAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>storeSaveCommitAfter</method>
                    </foomanjirafe_storeSaveCommitAfter>
                </observers>
            </store_save_commit_after>
            <store_delete_after>
                <observers>
                    <foomanjirafe_storeDeleteAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>storeDeleteAfter</method>
                    </foomanjirafe_storeDeleteAfter>
                </observers>
            </store_delete_after>            
            <store_delete_commit_after>
                <observers>
                    <foomanjirafe_storeDeleteCommitAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>storeDeleteCommitAfter</method>
                    </foomanjirafe_storeDeleteCommitAfter>
                </observers>
            </store_delete_commit_after>
            <website_delete_after>
                <observers>
                    <foomanjirafe_websiteDeleteAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>websiteDeleteAfter</method>
                    </foomanjirafe_websiteDeleteAfter>
                </observers>
            </website_delete_after>            
            <website_delete_commit_after>
                <observers>
                    <foomanjirafe_websiteDeleteCommitAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>websiteDeleteCommitAfter</method>
                    </foomanjirafe_websiteDeleteCommitAfter>
                </observers>
            </website_delete_commit_after>
            <admin_user_save_before>
                <observers>
                    <foomanjirafe_userSaveBefore>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>adminUserSaveBefore</method>
                    </foomanjirafe_userSaveBefore>
                </observers>
            </admin_user_save_before>
            <admin_user_save_after>
                <observers>
                    <foomanjirafe_userSaveAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>adminUserSaveAfter</method>
                    </foomanjirafe_userSaveAfter>
                </observers>
            </admin_user_save_after>
            <admin_user_save_commit_after>
                <observers>
                    <foomanjirafe_userSaveCommitAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>adminUserSaveCommitAfter</method>
                    </foomanjirafe_userSaveCommitAfter>
                </observers>
            </admin_user_save_commit_after>            
            <admin_user_delete_after>
                <observers>
                    <foomanjirafe_userDeleteAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>adminUserDeleteAfter</method>
                    </foomanjirafe_userDeleteAfter>
                </observers>
            </admin_user_delete_after>
            <admin_user_delete_commit_after>
                <observers>
                    <foomanjirafe_userDeleteCommitAfter>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>adminUserDeleteCommitAfter</method>
                    </foomanjirafe_userDeleteCommitAfter>
                </observers>
            </admin_user_delete_commit_after>            
            <core_block_abstract_to_html_before>
                <observers>
                    <foomanjirafe_coreBlockAbstractToHtmlBefore>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>coreBlockAbstractToHtmlBefore</method>
                    </foomanjirafe_coreBlockAbstractToHtmlBefore>
                </observers>
            </core_block_abstract_to_html_before>
            <sales_convert_quote_to_order>
                <observers>
                    <foomanjirafe_salesConvertQuoteToOrder>
                        <type>singleton</type>
                        <class>Fooman_Jirafe_Model_Observer</class>
                        <method>salesConvertQuoteToOrder</method>
                    </foomanjirafe_salesConvertQuoteToOrder>
                </observers>
            </sales_convert_quote_to_order>
        </events>
        <layout>
            <updates>
                <foomanjirafe>
                    <file>foomanjirafe.xml</file>
                </foomanjirafe>
            </updates>
        </layout>
    </adminhtml>
    <crontab>
        <jobs>
            <foomanjirafe_report>
                <schedule><cron_expr>5 * * * *</cron_expr></schedule>
                <run><model>foomanjirafe/report::cron</model></run>
            </foomanjirafe_report>
        </jobs>
    </crontab>
</config>
